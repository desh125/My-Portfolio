<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/normalize.css">
    <link rel="stylesheet" href="../../CSS_Framework/POS/assets/bootstrap/css/bootstrap.css">
    <title>Dashboard</title>
    <style>
        .card-reduced-height {
            max-height: 400px;
            overflow-y: auto;
        }


        .btn-custom {
            background-color: #007BFF;
            color: #fff;
        }

        .btn-custom:hover {
            background-color: #0056b3;
        }
    </style>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary" data-bs-theme="dark" style="background-color: #e3f2fd;">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Deshan's POS System</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#" data-section="home">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="orders">Orders</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="items">Items</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="customers">Customer</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="invoice">Invoice</a>
                        </li>
                    </ul>
                    <form class="d-flex" role="search">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </nav>
    </header>

    <section class="container mt-5" id="content">
        <div class="section" id="home">
            <h1 style="text-align: center;">Dashboard</h1>
            <div class="row">
                <div class="col-sm-12 col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Orders</h5>
                            <p class="card-text">Manage orders and customer data.</p>
                            <a class="nav-link" href="#" data-section="orders">
                                <button class="btn btn-primary" type="button">Go To Orders</button>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Items</h5>
                            <p class="card-text">Manage your inventory and items.</p>
                            <a class="nav-link" href="#" data-section="items">
                                <button class="btn btn-primary" type="button">Go To Items</button>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-md-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Invoice</h5>
                            <p class="card-text">Generate and manage invoices.</p>
                            <a class="nav-link" href="#" data-section="invoice">
                                <button class="btn btn-primary" type="button">Go To Invoice</button>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section" id="orders" style="display: none;">
            <h1 style="text-align: center;">Order Management</h1>
            <div class="row">
                <div class="col-12">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Search...">
                        <button class="btn btn-primary" type="button">Search</button>
                    </div>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-12">
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead class="table-primary">
                                <tr>
                                    <th scope="col">Order ID</th>
                                    <th scope="col">Customer ID</th>
                                    <th scope="col">Address</th>
                                    <th scope="col">Date</th>
                                    <th scope="col">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="tb5">
  
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="section" id="items" style="display: none;">
            <h1 style="text-align: center;">Item Management</h1>
            <div class="row">

                <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xxl-6">
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead class="table-primary">
                                <tr>
                                    
                                    <th scope="col">Item Code</th>
                                    <th scope="col">Item Name</th>
                                    <th scope="col">Price</th>
                                    <th scope="col">Quantity</th>
                                </tr>
                            </thead>
                            <tbody id="tb2">

                            </tbody>
                        </table>
                    </div>
                </div>


                <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xxl-6">

                    <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Search...">
                        <button class="btn btn-custom" type="button">Search</button>
                    </div>


                    <div class="card card-reduced-height">
                        <div class="card-header bg-primary text-white">
                            Add a Item
                        </div>
                        <div class="card-body">

                            <form>
                                <div class="mb-3">
                                    <label for="customerName" class="form-label">Item Code</label>
                                    <input type="text" class="form-control" id="itemCode">
                                </div>
                                <div class="mb-3">
                                    <label for="customerTP" class="form-label">Item Name</label>
                                    <input type="text" class="form-control" id="itemName">
                                </div>
                                <div class="mb-3">
                                    <label for="customerAge" class="form-label">Price</label>
                                    <input type="text" class="form-control" id="price">
                                </div>
                                <div class="mb-3">
                                    <label for="customerSalary" class="form-label">Quantity</label>
                                    <input type="text" class="form-control" id="quantity">
                                </div>
                                <button type="button" class="btn btn-success" id="addButtonItem">Add Item</button>
                                <button type="button" class="btn btn-warning" id="updateButtonItem">Update</button>
                                <button type="button" class="btn btn-danger" id="deleteButtonItem">Delete</button>
                                <button type="button" class="btn btn-danger" id="clearButtonItem">Clear Fields</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section" id="customers" style="display: none;">
            <h1 style="text-align: center;">Customer Management</h1>
            <div class="row">

                <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xxl-6">
                    <div class="table-responsive">
                        <table class="table table-bordered" id="cusTable">
                            <thead class="table-primary">
                                <tr>
                                    <th scope="col">Customer Id</th>
                                    <th scope="col">Customer Name</th>
                                    <th scope="col">TP</th>
                                    <th scope="col">Age</th>
                                    <th scope="col">Salary</th>
                                </tr>
                            </thead>
                            <tbody id="tb">

                            </tbody>
                        </table>
                    </div>
                </div>


                <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xxl-6">

                    <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Search...">
                        <button class="btn btn-custom" type="button">Search</button>
                    </div>


                    <div class="card card-reduced-height">
                        <div class="card-header bg-primary text-white">
                            Add a Customer
                        </div>
                        <div class="card-body">

                            <form>
                                <div class="mb-3">
                                    <label for="customerId" class="form-label">Customer Id</label>
                                    <input type="text" class="form-control" id="cId">
                                </div>
                                <div class="mb-3">
                                    <label for="customerName" class="form-label">Customer Name</label>
                                    <input type="text" class="form-control" id="cName">
                                </div>
                                <div class="mb-3">
                                    <label for="customerTP" class="form-label">TP</label>
                                    <input type="text" class="form-control" id="cTP">
                                </div>
                                <div class="mb-3">
                                    <label for="customerAge" class="form-label">Age</label>
                                    <input type="text" class="form-control" id="cAge">
                                </div>
                                <div class="mb-3">
                                    <label for="customerSalary" class="form-label">Salary</label>
                                    <input type="text" class="form-control" id="cSalary">
                                </div>
                                <button type="button" class="btn btn-success" id="saveButtonCustomer" >Add Customer</button>
                                <button type="button" class="btn btn-warning" id="updateButtonCustomer">Update</button>
                                <button type="button" class="btn btn-danger" id="deleteButtonCustomer">Delete</button>
                                <button type="button" class="btn btn-danger" id="clearButtonCustomer">Clear All</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section" id="invoice" style="display: none;">
            <h1 style="text-align: center;">Invoice</h1>
            <div class="row">
                <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                    <div class="card card-reduced-height">
                        <div class="card-header bg-primary text-white">
                            Order Details
                        </div>
                        <div class="card-body">
                            <form>
                                <div class="mb-3">
                                    <label for="orderId" class="form-label">Order ID</label>
                                    <input type="text" class="form-control" id="orderId">
                                </div>
                                <div class="mb-3">
                                    <label for="orderDate" class="form-label">Date</label>
                                    <input type="date" class="form-control" id="orderDate">
                                </div>
                                <div class="mb-3">
                                    <label for="customerId" class="form-label">Customer ID</label>
                                    <select class="form-control" id="selectCusID">

                                    </select>                                
                                </div>
                                <div class="mb-3">
                                    <label for="customerName" class="form-label">Customer Name</label>
                                    <input type="text" class="form-control" id="customerName">
                                </div>
                                <div class="mb-3">
                                    <label for="customerSalary" class="form-label">Salary</label>
                                    <input type="text" class="form-control" id="customerSalary">
                                </div>
                                <div class="mb-3">
                                    <label for="customerAddress" class="form-label">Address</label>
                                    <input type="text" class="form-control" id="customerAddress">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                    <div class="card card-reduced-height">
                        <div class="card-header bg-primary text-white">
                            Item Details
                        </div>
                        <div class="card-body">
                            <form>
                                <div class="mb-3">
                                    <label for="itemCode" class="form-label">Item Code</label>
                                    <select class="form-control" id="selectItemCode">

                                    </select> 
                                </div>
                                <div class="mb-3">
                                    <label for="itemName" class="form-label">Item Name</label>
                                    <input type="text" class="form-control" id="itemName2">
                                </div>
                                <div class="mb-3">
                                    <label for="itemPrice" class="form-label">Price</label>
                                    <input type="text" class="form-control" id="itemPrice2">
                                </div>
                                <div class="mb-3">
                                    <label for="qtyOnHand" class="form-label">Qty On Hand</label>
                                    <input type="text" class="form-control" id="qtyOnHand">
                                </div>
                                <div class="mb-3">
                                    <label for="qty" class="form-label">Qty</label>
                                    <input type="text" class="form-control" id="qty">
                                </div>
                                <div class="mb-3">
                                    <label for="qtyAfter" class="form-label">Qty After</label>
                                    <input type="text" class="form-control" id="qtyAfter">
                                </div>
                                <button type="button" class="btn btn-success" id="addItemButton2">Add Item</button>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                    <div class="card card-reduced-height">
                        <div class="card-header bg-primary text-white">
                            Payment Details
                        </div>
                        <div class="card-body">
                            <form>
                                <div class="mb-3">
                                    <label for="cash" class="form-label">Cash</label>
                                    <input type="text" class="form-control" id="cash">
                                </div>
                                <div class="mb-3">
                                    <label for="discount" class="form-label">Discount</label>
                                    <input type="text" class="form-control" id="discount">
                                </div>
                                <div class="mb-3">
                                    <label for="balance" class="form-label">Balance</label>
                                    <input type="text" class="form-control" id="balance">
                                </div>
                                <div class="mb-3">
                                    <label for="totalPrice" class="form-label">Total Price</label>
                                    <input type="text" class="form-control" id="totalPrice" disabled>
                                </div>
                                <button type="button" class="btn btn-primary" id="purchaseButton">Purchase</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-12">
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead class="table-primary">
                                <tr>
                                    <th scope="col">Item Code</th>
                                    <th scope="col">Item Name</th>
                                    <th scope="col">Price</th>
                                    <th scope="col">Qty</th>
                                    <th scope="col">Total</th>
                                </tr>
                            </thead>
                            <tbody id="tb3">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script>


        document.addEventListener("DOMContentLoaded", function () {
            function hideAllSections() {
                const sections = document.querySelectorAll(".section");
                sections.forEach((section) => {
                    section.style.display = "none";
                });
            }

            function showSection(sectionId) {
                const selectedSection = document.getElementById(sectionId);
                if (selectedSection) {
                    selectedSection.style.display = "block";
                }
            }

            function loadContent(sectionId) {
                hideAllSections();
                showSection(sectionId);
                localStorage.setItem("lastVisitedSection", sectionId);
            }

            const lastVisitedSection = localStorage.getItem("lastVisitedSection");

            if (lastVisitedSection) {
                loadContent(lastVisitedSection);
            } else {
                loadContent("home");
            }

            const navLinks = document.querySelectorAll(".nav-link");
            navLinks.forEach((navLink) => {
                navLink.addEventListener("click", function (event) {
                    event.preventDefault();
                    const sectionId = navLink.getAttribute("data-section");
                    loadContent(sectionId);
                });
            });


        });
    </script>
    <script src="../SPA/assets/JS/js/jquery-3.6.1.min.js"></script>
    <script src="../SPA/assets/JS/js/bootstrap.min.js"></script>
    <script src="../SPA/db/db.js"></script>
    <script src="../SPA/model/Customer.js"></script>
    <script src="../SPA/controller/CustomerController.js"></script>
    <script src="../SPA/controller/InvoiceController.js"></script>
    <script src="../SPA/model/Item.js"></script>
    <script src="../SPA/controller/ItemController.js"></script>
    <script src="../SPA/controller/OrderDetailsController.js"></script>
    <script src="../SPA/validations/CustomerValidations.js"></script>
    <script src="../SPA/validations/ItemValidations.js"></script>
    <script src="../SPA/validations/InvoiceValidations.js"></script>
</body>

</html>